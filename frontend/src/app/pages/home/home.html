<!-- 1) Top banners slider -->
<app-slider></app-slider>

<!-- 2) ONE-ROW horizontal strip -->
<section class="container products">
  <div class="state" *ngIf="loading()">Loading…</div>
  <div class="state error" *ngIf="error()">{{ error() }}</div>

  <div class="row-wrap" *ngIf="!loading() && !error() && stripProducts().length">
    <button class="arrow left" (click)="prev()" aria-label="prev">❮</button>
    <div class="row" #row>
      <app-product-card *ngFor="let p of stripProducts()" [product]="p"></app-product-card>
    </div>
    <button class="arrow right" (click)="next()" aria-label="next">❯</button>
  </div>

  <div class="state" *ngIf="!loading() && !error() && !stripProducts().length">
    No products yet. Add some from Admin →
  </div>
</section>

<!-- 3) Two banners grid -->
<section class="container two-banners" *ngIf="banners().length; else twoBannersPh">
  <a
    class="banner"
    *ngFor="let b of banners() | slice:0:2"
    [href]="b.productId ? '/product/'+b.productId : '#'"
    [target]="b.openInNewTab ? '_blank' : null"
  >
    <img [src]="b.imageUrl" [alt]="b.caption || 'banner'" />
    <div class="caption" *ngIf="b.caption">{{ b.caption }}</div>
  </a>
</section>
<ng-template #twoBannersPh>
  <section class="container two-banners">
    <div class="banner ph"></div>
    <div class="banner ph"></div>
  </section>
</ng-template>

<!-- 4) Tabs + FULL GRID (tabs control THIS grid only) -->
<section class="container filters-and-grid">
  <div class="tabs-box">
    <app-tabs [active]="tab()" (tabChange)="onTabChange($event)"></app-tabs>
  </div>

  <div class="grid">
    <app-product-card *ngFor="let p of gridProducts()" [product]="p"></app-product-card>
  </div>

  <div class="state" *ngIf="!gridProducts().length && !loading() && !error()">
    No results match your selection.
  </div>
</section>

<!-- 5) Footer -->
<footer class="site-footer">
  <div class="container grid">
    <div>
      <h4>DEEP TIME</h4>
      <p>Luxury watches — WhatsApp concierge & authentic pieces.</p>
    </div>
    <div>
      <h5>Quick Links</h5>
      <ul>
        <li><a routerLink="/">Home</a></li>
        <li><a routerLink="/#sell">Sell your watch</a></li>
        <li><a routerLink="/login">Account</a></li>
      </ul>
    </div>
    <div>
      <h5>Contact</h5>
      <ul>
        <li>WhatsApp: <a href="https://wa.me/966555555555" target="_blank">+966 55 555 5555</a></li>
        <li>Email: support@deeptime.example</li>
        <li>Riyadh, Saudi Arabia</li>
      </ul>
    </div>
    <div>
      <h5>Social</h5>
      <div class="social">
        <a href="#" aria-label="Instagram">IG</a>
        <a href="#" aria-label="Twitter">X</a>
        <a href="#" aria-label="TikTok">TT</a>
      </div>
    </div>
  </div>
  <div class="copy">© {{ currentYear }} DEEP TIME — All rights reserved.</div>
</footer>
